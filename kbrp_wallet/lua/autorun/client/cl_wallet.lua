surface.CreateFont( "CaviarDreams22", { font = "Lemon Milk", extended = false, size = 22, weight = 500, blursize = 0, scanlines = 0, antialias = true, underline = false, italic = false, strikeout = false, symbol = false, rotary = false, shadow = false, additive = false, outline = false, } ) surface.CreateFont( "CaviarDreams25", { font = "Caviar Dreams", extended = false, size = 25, weight = 500, blursize = 0, scanlines = 0, antialias = true, underline = false, italic = false, strikeout = false, symbol = false, rotary = false, shadow = false, additive = false, outline = false, } ) function WalletMenu() local ply = LocalPlayer() LucianPortefeuille = vgui.Create("DFrame") LucianPortefeuille:SetSize(325,160) LucianPortefeuille:Center() LucianPortefeuille:SetTitle("") LucianPortefeuille:MakePopup() LucianPortefeuille:SetDraggable(true) LucianPortefeuille:ShowCloseButton(false) LucianPortefeuille.Paint = function(self,w,h) draw.RoundedBox(0, 0, 0, w, h , LC_Wallet.BackgroundColor) draw.RoundedBox(0, 0, 0, w, h-130 , LC_Wallet.BackgroundTopColor) draw.SimpleText(LC_Wallet.TextTitle, "CaviarDreams25", w/2-50, 15, color_white, 0, 1) draw.SimpleText(LC_Wallet.TextMoney..LocalPlayer().DarkRPVars.money..LC_Wallet.MoneySign, "CaviarDreams22", 8, 48, color_white, 0, 1) draw.SimpleText(LC_Wallet.TextSalary..LocalPlayer().DarkRPVars.salary..LC_Wallet.MoneySign, "CaviarDreams22", 8, 73, color_white, 0, 1) end local K = vgui.Create("DTextEntry", LucianPortefeuille) K:SetSize(315, 25) K:SetPos(-315, 97) K.AllowInput = function( self, stringValue ) if string.find(stringValue,"%d") then return false end return true end K.Paint = function(self) draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), color_white) self:DrawTextEntryText(color_black, LC_Wallet.ButtonColor, color_black) end K:MoveTo(5, 97,0.5,0.2) local LucianPortefeuilleGive = vgui.Create("DButton", LucianPortefeuille) LucianPortefeuilleGive:SetSize(157, 30) LucianPortefeuilleGive:SetPos(5, 170) LucianPortefeuilleGive:SetText("") LucianPortefeuilleGive.Paint = function(self,w,h) surface.SetDrawColor(Color(0,0,0,150)) surface.DrawOutlinedRect(0,0,w,h) draw.RoundedBox(0, 1, 1, w-2, h-2, LC_Wallet.ButtonColor) draw.SimpleText(LC_Wallet.TextGive, "CaviarDreams22",w/2,h/2, color_white, 1, 1) end LucianPortefeuilleGive.DoClick = function() local value = K:GetValue() if value and type(value) == "string" and value ~= "" then ply:ConCommand("say /give " .. value) if IsValid(ply:GetEyeTrace().Entity) and ply:GetEyeTrace().Entity:IsPlayer() then chat.AddText( color_white, "Vous avez donné " .. DarkRP.formatMoney(tonumber(value)) .. " à " .. ply:GetEyeTrace().Entity:Name() .. ".") end LucianPortefeuille:Remove() end end LucianPortefeuilleGive:MoveTo(5,125,0.5,0.2) local LucianPortefeuilleDrop = vgui.Create("DButton", LucianPortefeuille) LucianPortefeuilleDrop:SetSize(157, 30) LucianPortefeuilleDrop:SetPos(164, 170) LucianPortefeuilleDrop:SetText("") LucianPortefeuilleDrop.Paint = function(self,w,h) surface.SetDrawColor(Color(0,0,0,150)) surface.DrawOutlinedRect(0,0,w,h) draw.RoundedBox(0, 1, 1, w-2, h-2, LC_Wallet.ButtonColor) draw.SimpleText(LC_Wallet.TextDrop, "CaviarDreams22",w/2,h/2, color_white, 1, 1) end LucianPortefeuilleDrop.DoClick = function() local value = K:GetValue() if value and type(value) == "string" and value ~= "" then ply:ConCommand("say /dropmoney " .. value) chat.AddText( color_white, "Vous avez déposé " ..value.."€") LucianPortefeuille:Remove() end end LucianPortefeuilleDrop:MoveTo(164, 125,0.5,0.2) local LucianPortefeuilleClose = vgui.Create( "DButton", LucianPortefeuille ) LucianPortefeuilleClose:SetSize( 15, 15 ) LucianPortefeuilleClose:SetPos( LucianPortefeuille:GetWide() - 20, 5 ) LucianPortefeuilleClose:SetText( "X" ) LucianPortefeuilleClose:SetFont("CaviarDreams22") LucianPortefeuilleClose:SetTextColor( color_white ) LucianPortefeuilleClose.Paint = function( self, w, h ) end LucianPortefeuilleClose.DoClick = function(self) LucianPortefeuille:Remove() end end usermessage.Hook("WalletMenu", WalletMenu) net.Receive("OpenWalletMenuCmd", function() RunConsoleCommand( "say","/wallet" ) end)